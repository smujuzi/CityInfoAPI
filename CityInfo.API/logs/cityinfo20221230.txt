2022-12-30 18:27:40.252 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 18:27:40.591 +00:00 [DBG] Hosting starting
2022-12-30 18:27:40.712 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 18:27:40.720 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 18:27:40.787 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 18:27:40.805 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 18:27:40.809 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 18:27:40.813 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 18:27:40.815 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 18:27:40.819 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 18:27:40.823 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 18:27:40.828 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 18:27:40.830 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 18:27:41.223 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 18:27:41.336 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 18:27:41.338 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 18:27:41.340 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 18:27:41.342 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 18:27:41.344 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 18:27:41.346 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 18:27:41.347 +00:00 [INF] Hosting environment: Development
2022-12-30 18:27:41.349 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 18:27:41.350 +00:00 [DBG] Hosting started
2022-12-30 18:27:48.217 +00:00 [DBG] Connection id "0HMNAIE6ON4D8" received FIN.
2022-12-30 18:27:48.231 +00:00 [DBG] Connection id "0HMNAIE6ON4D8" accepted.
2022-12-30 18:27:48.234 +00:00 [DBG] Connection id "0HMNAIE6ON4D8" started.
2022-12-30 18:27:48.236 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" accepted.
2022-12-30 18:27:48.237 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" started.
2022-12-30 18:27:48.268 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 18:27:48.449 +00:00 [DBG] Connection 0HMNAIE6ON4D9 established using the following protocol: "Tls12"
2022-12-30 18:27:48.464 +00:00 [DBG] Connection id "0HMNAIE6ON4D8" stopped.
2022-12-30 18:27:48.467 +00:00 [DBG] Connection id "0HMNAIE6ON4D8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 18:27:48.528 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/v1/cities - -
2022-12-30 18:27:48.571 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 18:27:48.623 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:27:48.669 +00:00 [DBG] No candidates found for the request path '/api/v1/cities'
2022-12-30 18:27:48.671 +00:00 [DBG] Request did not match any endpoints
2022-12-30 18:27:49.318 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '29/12/2022 01:07:18', Current time: '30/12/2022 18:27:49'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-30 18:27:49.327 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '29/12/2022 01:07:18', Current time: '30/12/2022 18:27:49'.
2022-12-30 18:27:49.345 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" completed keep alive response.
2022-12-30 18:27:49.349 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/v1/cities - - - 404 0 - 826.2808ms
2022-12-30 18:28:05.166 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114
2022-12-30 18:28:05.168 +00:00 [DBG] POST requests are not supported
2022-12-30 18:28:05.176 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-12-30 18:28:05.184 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-12-30 18:28:05.188 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:28:05.189 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-30 18:28:05.192 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:28:05.224 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-12-30 18:28:05.229 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 18:28:05.231 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 18:28:05.232 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 18:28:05.234 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 18:28:05.236 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 18:28:05.239 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 18:28:05.241 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 18:28:05.250 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 18:28:05.253 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2022-12-30 18:28:05.256 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-12-30 18:28:05.257 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-12-30 18:28:05.274 +00:00 [DBG] Connection id "0HMNAIE6ON4D9", Request id "0HMNAIE6ON4D9:00000003": started reading request body.
2022-12-30 18:28:05.279 +00:00 [DBG] Connection id "0HMNAIE6ON4D9", Request id "0HMNAIE6ON4D9:00000003": done reading request body.
2022-12-30 18:28:05.416 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:28:05.417 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:28:05.419 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 18:28:05.432 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:28:05.478 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 18:28:05.483 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 18:28:05.484 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 18:28:05.485 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 18:28:05.486 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-12-30 18:28:05.488 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-12-30 18:28:05.498 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 253.0979ms
2022-12-30 18:28:05.500 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:28:05.501 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" completed keep alive response.
2022-12-30 18:28:05.502 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 336.5435ms
2022-12-30 18:28:23.437 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/v1/cities - -
2022-12-30 18:28:23.438 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:28:23.439 +00:00 [DBG] No candidates found for the request path '/api/v1/cities'
2022-12-30 18:28:23.440 +00:00 [DBG] Request did not match any endpoints
2022-12-30 18:28:23.457 +00:00 [DBG] Successfully validated the token.
2022-12-30 18:28:23.459 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 18:28:23.463 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" completed keep alive response.
2022-12-30 18:28:23.465 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/v1/cities - - - 404 0 - 27.5049ms
2022-12-30 18:28:25.256 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/v1/cities - -
2022-12-30 18:28:25.258 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:28:25.259 +00:00 [DBG] No candidates found for the request path '/api/v1/cities'
2022-12-30 18:28:25.261 +00:00 [DBG] Request did not match any endpoints
2022-12-30 18:28:25.262 +00:00 [DBG] Successfully validated the token.
2022-12-30 18:28:25.263 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 18:28:25.265 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" completed keep alive response.
2022-12-30 18:28:25.267 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/v1/cities - - - 404 0 - 11.2337ms
2022-12-30 18:28:27.992 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/v1/cities - -
2022-12-30 18:28:27.993 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:28:27.994 +00:00 [DBG] No candidates found for the request path '/api/v1/cities'
2022-12-30 18:28:27.996 +00:00 [DBG] Request did not match any endpoints
2022-12-30 18:28:27.997 +00:00 [DBG] Successfully validated the token.
2022-12-30 18:28:27.998 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 18:28:27.999 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" completed keep alive response.
2022-12-30 18:28:28.001 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/v1/cities - - - 404 0 - 8.5265ms
2022-12-30 18:28:35.006 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 18:28:35.007 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:28:35.008 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 18:28:35.009 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 18:28:35.011 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 18:28:35.012 +00:00 [DBG] Successfully validated the token.
2022-12-30 18:28:35.013 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 18:28:35.024 +00:00 [DBG] Authorization was successful.
2022-12-30 18:28:35.026 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 18:28:35.028 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 18:28:35.030 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 18:28:35.032 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 18:28:35.035 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 18:28:35.037 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 18:28:35.039 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 18:28:35.040 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:28:35.042 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:28:35.044 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 18:28:35.047 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 18:28:35.048 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 18:28:35.049 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 18:28:35.050 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 18:28:35.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 18:28:35.113 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 72.2743ms
2022-12-30 18:28:35.114 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 18:28:35.115 +00:00 [DBG] Connection id "0HMNAIE6ON4D9" completed keep alive response.
2022-12-30 18:28:35.116 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 200 1037 application/json;+charset=utf-8 110.7836ms
2022-12-30 18:53:03.985 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 18:53:04.158 +00:00 [DBG] Hosting starting
2022-12-30 18:53:04.200 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 18:53:04.206 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 18:53:04.232 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 18:53:04.248 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 18:53:04.251 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 18:53:04.254 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 18:53:04.256 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 18:53:04.261 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 18:53:04.264 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 18:53:04.268 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 18:53:04.269 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 18:53:04.514 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 18:53:04.583 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 18:53:04.584 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 18:53:04.585 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 18:53:04.586 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 18:53:04.587 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 18:53:04.589 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 18:53:04.589 +00:00 [INF] Hosting environment: Development
2022-12-30 18:53:04.590 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 18:53:04.591 +00:00 [DBG] Hosting started
2022-12-30 18:53:12.100 +00:00 [DBG] Connection id "0HMNAISCTJ7SV" received FIN.
2022-12-30 18:53:12.112 +00:00 [DBG] Connection id "0HMNAISCTJ7SV" accepted.
2022-12-30 18:53:12.130 +00:00 [DBG] Connection id "0HMNAISCTJ7SV" started.
2022-12-30 18:53:12.133 +00:00 [DBG] Connection id "0HMNAISCTJ7T0" accepted.
2022-12-30 18:53:12.134 +00:00 [DBG] Connection id "0HMNAISCTJ7T0" started.
2022-12-30 18:53:12.163 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 18:53:12.306 +00:00 [DBG] Connection 0HMNAISCTJ7T0 established using the following protocol: "Tls12"
2022-12-30 18:53:12.328 +00:00 [DBG] Connection id "0HMNAISCTJ7SV" stopped.
2022-12-30 18:53:12.331 +00:00 [DBG] Connection id "0HMNAISCTJ7SV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 18:53:12.380 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114
2022-12-30 18:53:12.434 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 18:53:12.465 +00:00 [DBG] POST requests are not supported
2022-12-30 18:53:12.512 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-12-30 18:53:12.519 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-12-30 18:53:12.522 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:53:12.680 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-30 18:53:12.684 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:53:12.714 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-12-30 18:53:12.717 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 18:53:12.719 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 18:53:12.720 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 18:53:12.722 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 18:53:12.725 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 18:53:12.728 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 18:53:12.730 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 18:53:12.748 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 18:53:12.752 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2022-12-30 18:53:12.754 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-12-30 18:53:12.756 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-12-30 18:53:12.780 +00:00 [DBG] Connection id "0HMNAISCTJ7T0", Request id "0HMNAISCTJ7T0:00000002": started reading request body.
2022-12-30 18:53:12.782 +00:00 [DBG] Connection id "0HMNAISCTJ7T0", Request id "0HMNAISCTJ7T0:00000002": done reading request body.
2022-12-30 18:53:12.969 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:53:12.971 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:53:12.973 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 18:53:12.990 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:53:13.156 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 18:53:13.163 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 18:53:13.164 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 18:53:13.165 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 18:53:13.166 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-12-30 18:53:13.168 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-12-30 18:53:13.180 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 448.332ms
2022-12-30 18:53:13.183 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:53:13.184 +00:00 [DBG] Connection id "0HMNAISCTJ7T0" completed keep alive response.
2022-12-30 18:53:13.188 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 814.3103ms
2022-12-30 18:53:28.043 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 18:53:28.057 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:53:28.059 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 18:53:28.061 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 18:53:28.064 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 18:53:28.157 +00:00 [DBG] Successfully validated the token.
2022-12-30 18:53:28.159 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 18:53:28.170 +00:00 [DBG] Authorization was successful.
2022-12-30 18:53:28.171 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 18:53:28.173 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 18:53:28.175 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 18:53:28.177 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 18:53:28.179 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 18:53:28.181 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 18:53:28.183 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 18:53:28.184 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:53:28.187 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:53:28.188 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 18:53:28.193 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 18:53:28.224 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 18:53:28.226 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 18:53:28.324 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 138.9176ms
2022-12-30 18:53:28.331 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 18:53:28.335 +00:00 [DBG] Connection id "0HMNAISCTJ7T0" completed keep alive response.
2022-12-30 18:53:28.339 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 200 1519 application/xml;+charset=utf-8 295.7127ms
2022-12-30 18:54:19.226 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 18:54:19.232 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:54:19.237 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 18:54:19.239 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 18:54:19.241 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 18:54:19.244 +00:00 [DBG] Successfully validated the token.
2022-12-30 18:54:19.245 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 18:54:19.246 +00:00 [DBG] Authorization was successful.
2022-12-30 18:54:19.247 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 18:54:19.262 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 18:54:19.265 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 18:54:19.268 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 18:54:19.271 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 18:54:19.273 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 18:54:19.274 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 18:54:19.276 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:54:19.277 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:54:19.278 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 18:54:19.280 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 18:54:19.282 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 18:54:19.286 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 18:54:19.288 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 18:54:19.289 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 18:56:13.894 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 18:56:14.099 +00:00 [DBG] Hosting starting
2022-12-30 18:56:14.136 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 18:56:14.139 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 18:56:14.149 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 18:56:14.159 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 18:56:14.162 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 18:56:14.165 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 18:56:14.167 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 18:56:14.171 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 18:56:14.174 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 18:56:14.177 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 18:56:14.180 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 18:56:14.337 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 18:56:14.392 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 18:56:14.393 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 18:56:14.394 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 18:56:14.396 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 18:56:14.397 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 18:56:14.398 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 18:56:14.399 +00:00 [INF] Hosting environment: Development
2022-12-30 18:56:14.399 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 18:56:14.400 +00:00 [DBG] Hosting started
2022-12-30 18:56:32.414 +00:00 [DBG] Connection id "0HMNAIU8JUAGG" received FIN.
2022-12-30 18:56:32.425 +00:00 [DBG] Connection id "0HMNAIU8JUAGG" accepted.
2022-12-30 18:56:32.430 +00:00 [DBG] Connection id "0HMNAIU8JUAGG" started.
2022-12-30 18:56:32.434 +00:00 [DBG] Connection id "0HMNAIU8JUAGH" accepted.
2022-12-30 18:56:32.436 +00:00 [DBG] Connection id "0HMNAIU8JUAGH" started.
2022-12-30 18:56:32.460 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 18:56:32.535 +00:00 [DBG] Connection 0HMNAIU8JUAGH established using the following protocol: "Tls12"
2022-12-30 18:56:32.551 +00:00 [DBG] Connection id "0HMNAIU8JUAGG" stopped.
2022-12-30 18:56:32.554 +00:00 [DBG] Connection id "0HMNAIU8JUAGG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 18:56:32.606 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114
2022-12-30 18:56:32.629 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 18:56:32.657 +00:00 [DBG] POST requests are not supported
2022-12-30 18:56:32.688 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-12-30 18:56:32.692 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-12-30 18:56:32.694 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:56:32.800 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-30 18:56:32.804 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:56:32.828 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-12-30 18:56:32.831 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 18:56:32.834 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 18:56:32.836 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 18:56:32.839 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 18:56:32.840 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 18:56:32.842 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 18:56:32.844 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 18:56:32.863 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 18:56:32.868 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2022-12-30 18:56:32.871 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-12-30 18:56:32.873 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-12-30 18:56:32.894 +00:00 [DBG] Connection id "0HMNAIU8JUAGH", Request id "0HMNAIU8JUAGH:00000002": started reading request body.
2022-12-30 18:56:32.896 +00:00 [DBG] Connection id "0HMNAIU8JUAGH", Request id "0HMNAIU8JUAGH:00000002": done reading request body.
2022-12-30 18:56:33.075 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:56:33.076 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:56:33.078 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 18:56:33.087 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 18:56:33.227 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 18:56:33.234 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 18:56:33.235 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 18:56:33.237 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 18:56:33.238 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-12-30 18:56:33.240 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-12-30 18:56:33.249 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 402.1656ms
2022-12-30 18:56:33.254 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 18:56:33.255 +00:00 [DBG] Connection id "0HMNAIU8JUAGH" completed keep alive response.
2022-12-30 18:56:33.260 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 657.7446ms
2022-12-30 18:56:44.920 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 18:56:44.940 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 18:56:44.943 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 18:56:44.944 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 18:56:44.945 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 18:56:45.044 +00:00 [DBG] Successfully validated the token.
2022-12-30 18:56:45.045 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 18:56:45.051 +00:00 [DBG] Authorization was successful.
2022-12-30 18:56:45.052 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 18:56:45.065 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 18:56:45.067 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 18:56:45.068 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 18:56:45.070 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 18:56:45.072 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 18:56:45.075 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 18:56:45.077 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:56:45.079 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 18:56:45.081 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 18:56:45.082 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 18:56:45.084 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 18:56:45.085 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 18:56:45.086 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 18:56:45.087 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:16:43.398 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:16:43.567 +00:00 [DBG] Hosting starting
2022-12-30 19:16:43.603 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:16:43.609 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:16:43.628 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:16:43.641 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:16:43.644 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:16:43.648 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:16:43.649 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:16:43.654 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:16:43.656 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:16:43.661 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:16:43.664 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:16:44.291 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:16:44.405 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:16:44.409 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:16:44.413 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:16:44.421 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:16:44.429 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:16:44.432 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:16:44.437 +00:00 [INF] Hosting environment: Development
2022-12-30 19:16:44.443 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:16:44.444 +00:00 [DBG] Hosting started
2022-12-30 19:16:52.151 +00:00 [DBG] Connection id "0HMNAJ9K4870J" received FIN.
2022-12-30 19:16:52.161 +00:00 [DBG] Connection id "0HMNAJ9K4870J" accepted.
2022-12-30 19:16:52.164 +00:00 [DBG] Connection id "0HMNAJ9K4870J" started.
2022-12-30 19:16:52.168 +00:00 [DBG] Connection id "0HMNAJ9K4870K" accepted.
2022-12-30 19:16:52.172 +00:00 [DBG] Connection id "0HMNAJ9K4870K" started.
2022-12-30 19:16:52.198 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:16:52.860 +00:00 [DBG] Connection 0HMNAJ9K4870K established using the following protocol: "Tls12"
2022-12-30 19:16:52.887 +00:00 [DBG] Connection id "0HMNAJ9K4870J" stopped.
2022-12-30 19:16:52.890 +00:00 [DBG] Connection id "0HMNAJ9K4870J" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:16:52.960 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114
2022-12-30 19:16:52.993 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:16:53.027 +00:00 [DBG] POST requests are not supported
2022-12-30 19:16:53.072 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-12-30 19:16:53.078 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-12-30 19:16:53.082 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 19:16:53.217 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-30 19:16:53.221 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 19:16:53.248 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-12-30 19:16:53.253 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:16:53.254 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:16:53.256 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:16:53.260 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:16:53.261 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:16:53.264 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 19:16:53.268 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 19:16:53.285 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 19:16:53.289 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2022-12-30 19:16:53.292 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-12-30 19:16:53.294 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-12-30 19:16:53.319 +00:00 [DBG] Connection id "0HMNAJ9K4870K", Request id "0HMNAJ9K4870K:00000002": started reading request body.
2022-12-30 19:16:53.321 +00:00 [DBG] Connection id "0HMNAJ9K4870K", Request id "0HMNAJ9K4870K:00000002": done reading request body.
2022-12-30 19:16:53.500 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 19:16:53.502 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 19:16:53.503 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 19:16:53.518 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 19:16:53.654 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:16:53.659 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:16:53.660 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:16:53.661 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:16:53.663 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-12-30 19:16:53.666 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-12-30 19:16:53.675 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 407.9924ms
2022-12-30 19:16:53.681 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 19:16:53.683 +00:00 [DBG] Connection id "0HMNAJ9K4870K" completed keep alive response.
2022-12-30 19:16:53.688 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 733.4936ms
2022-12-30 19:17:18.049 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:17:18.072 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:17:18.074 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:17:18.075 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:17:18.082 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:17:18.200 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:17:18.202 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:17:18.208 +00:00 [DBG] Authorization was successful.
2022-12-30 19:17:18.210 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:17:18.225 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:17:18.229 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:17:18.231 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:17:18.233 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:17:18.237 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:17:18.238 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:17:18.240 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:17:18.247 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 6.9638ms
2022-12-30 19:17:18.252 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:17:18.254 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method14(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:17:18.281 +00:00 [DBG] Connection id "0HMNAJ9K4870K" completed keep alive response.
2022-12-30 19:17:18.284 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 234.8835ms
2022-12-30 19:25:07.515 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:25:07.632 +00:00 [DBG] Hosting starting
2022-12-30 19:25:07.672 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:25:07.684 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:25:07.698 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:25:07.708 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:25:07.712 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:25:07.715 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:25:07.717 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:25:07.721 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:25:07.724 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:25:07.728 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:25:07.729 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:25:07.908 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:25:07.997 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:25:07.998 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:25:08.000 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:25:08.001 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:25:08.002 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:25:08.003 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:25:08.004 +00:00 [INF] Hosting environment: Development
2022-12-30 19:25:08.005 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:25:08.007 +00:00 [DBG] Hosting started
2022-12-30 19:25:25.647 +00:00 [DBG] Connection id "0HMNAJED5B1PI" received FIN.
2022-12-30 19:25:25.661 +00:00 [DBG] Connection id "0HMNAJED5B1PI" accepted.
2022-12-30 19:25:25.674 +00:00 [DBG] Connection id "0HMNAJED5B1PI" started.
2022-12-30 19:25:25.676 +00:00 [DBG] Connection id "0HMNAJED5B1PJ" accepted.
2022-12-30 19:25:25.677 +00:00 [DBG] Connection id "0HMNAJED5B1PJ" started.
2022-12-30 19:25:25.710 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:25:25.777 +00:00 [DBG] Connection 0HMNAJED5B1PJ established using the following protocol: "Tls12"
2022-12-30 19:25:25.820 +00:00 [DBG] Connection id "0HMNAJED5B1PI" stopped.
2022-12-30 19:25:25.823 +00:00 [DBG] Connection id "0HMNAJED5B1PI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:25:25.875 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114
2022-12-30 19:25:25.905 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:25:25.929 +00:00 [DBG] POST requests are not supported
2022-12-30 19:25:25.963 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2022-12-30 19:25:25.971 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2022-12-30 19:25:25.973 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 19:25:26.087 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-30 19:25:26.090 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 19:25:26.122 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2022-12-30 19:25:26.125 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:25:26.126 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:25:26.128 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:25:26.130 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:25:26.136 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:25:26.140 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 19:25:26.142 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2022-12-30 19:25:26.161 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 19:25:26.166 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2022-12-30 19:25:26.171 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-12-30 19:25:26.174 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-12-30 19:25:26.197 +00:00 [DBG] Connection id "0HMNAJED5B1PJ", Request id "0HMNAJED5B1PJ:00000002": started reading request body.
2022-12-30 19:25:26.201 +00:00 [DBG] Connection id "0HMNAJED5B1PJ", Request id "0HMNAJED5B1PJ:00000002": done reading request body.
2022-12-30 19:25:26.386 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 19:25:26.388 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 19:25:26.390 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2022-12-30 19:25:26.403 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2022-12-30 19:25:26.564 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:25:26.572 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:25:26.572 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:25:26.574 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:25:26.575 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2022-12-30 19:25:26.577 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-12-30 19:25:26.588 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 443.3218ms
2022-12-30 19:25:26.592 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2022-12-30 19:25:26.593 +00:00 [DBG] Connection id "0HMNAJED5B1PJ" completed keep alive response.
2022-12-30 19:25:26.596 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7140/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 723.7354ms
2022-12-30 19:26:11.221 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:26:11.238 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:26:11.240 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:26:11.241 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:26:11.246 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:26:11.348 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:26:11.350 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:26:11.355 +00:00 [DBG] Authorization was successful.
2022-12-30 19:26:11.356 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:26:11.372 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:26:11.374 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:26:11.380 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:26:11.382 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:26:11.384 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:26:11.386 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:26:11.388 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:26:11.393 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5.1797ms
2022-12-30 19:26:11.398 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:26:11.401 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method14(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:26:11.440 +00:00 [DBG] Connection id "0HMNAJED5B1PJ" completed keep alive response.
2022-12-30 19:26:11.441 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 220.6251ms
2022-12-30 19:27:19.324 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1/pointsofinterest - -
2022-12-30 19:27:19.328 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:27:19.329 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-12-30 19:27:19.331 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-12-30 19:27:19.333 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:27:19.340 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:27:19.342 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:27:19.345 +00:00 [DBG] Authorization was successful.
2022-12-30 19:27:19.345 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:27:19.348 +00:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-12-30 19:27:19.353 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:27:19.358 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:27:19.360 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:27:19.363 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:27:19.365 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:27:19.368 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:27:19.373 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:27:19.375 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 19:27:19.377 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name 'cityId' in request data ...
2022-12-30 19:27:19.378 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:27:19.380 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:27:19.381 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 19:27:19.383 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 19:27:19.387 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:27:19.394 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:27:19.395 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:27:19.396 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:27:19.397 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:27:19.399 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 19:27:19.463 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 95.2939ms
2022-12-30 19:27:19.465 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:27:19.468 +00:00 [DBG] Connection id "0HMNAJED5B1PJ" completed keep alive response.
2022-12-30 19:27:19.469 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1/pointsofinterest - - - 200 206 application/json;+charset=utf-8 146.5631ms
2022-12-30 19:27:27.878 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:27:27.879 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:27:27.881 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:27:27.882 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:27:27.884 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:27:27.886 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:27:27.886 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:27:27.888 +00:00 [DBG] Authorization was successful.
2022-12-30 19:27:27.891 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:27:27.894 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:27:27.898 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:27:27.900 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:27:27.902 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:27:27.904 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:27:27.907 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:27:27.910 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:27:27.914 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 4.3454ms
2022-12-30 19:27:27.916 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:27:27.917 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method14(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:27:27.934 +00:00 [DBG] Connection id "0HMNAJED5B1PJ" completed keep alive response.
2022-12-30 19:27:27.939 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 61.5881ms
2022-12-30 19:28:34.026 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:28:34.153 +00:00 [DBG] Hosting starting
2022-12-30 19:28:34.194 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:28:34.198 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:28:34.217 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:28:34.231 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:28:34.234 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:28:34.237 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:28:34.239 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:28:34.243 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:28:34.246 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:28:34.249 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:28:34.251 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:28:34.454 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:28:34.524 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:28:34.526 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:28:34.527 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:28:34.528 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:28:34.529 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:28:34.531 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:28:34.532 +00:00 [INF] Hosting environment: Development
2022-12-30 19:28:34.533 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:28:34.537 +00:00 [DBG] Hosting started
2022-12-30 19:28:59.995 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:29:00.173 +00:00 [DBG] Hosting starting
2022-12-30 19:29:00.267 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:29:00.274 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:29:00.283 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:29:00.295 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:29:00.299 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:29:00.303 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:29:00.307 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:29:00.313 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:29:00.319 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:29:00.326 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:29:00.329 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:29:00.590 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:29:00.680 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:29:00.685 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:29:00.686 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:29:00.689 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:29:00.691 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:29:00.692 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:29:00.693 +00:00 [INF] Hosting environment: Development
2022-12-30 19:29:00.695 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:29:00.700 +00:00 [DBG] Hosting started
2022-12-30 19:29:05.024 +00:00 [DBG] Connection id "0HMNAJGEHFBST" received FIN.
2022-12-30 19:29:05.036 +00:00 [DBG] Connection id "0HMNAJGEHFBST" accepted.
2022-12-30 19:29:05.038 +00:00 [DBG] Connection id "0HMNAJGEHFBST" started.
2022-12-30 19:29:05.040 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" accepted.
2022-12-30 19:29:05.046 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" started.
2022-12-30 19:29:05.103 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:29:05.195 +00:00 [DBG] Connection 0HMNAJGEHFBSU established using the following protocol: "Tls12"
2022-12-30 19:29:05.211 +00:00 [DBG] Connection id "0HMNAJGEHFBST" stopped.
2022-12-30 19:29:05.213 +00:00 [DBG] Connection id "0HMNAJGEHFBST" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:29:05.608 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:29:05.819 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:29:05.892 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:29:05.936 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:29:05.943 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:29:05.947 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:06.315 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:29:06.317 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:29:06.321 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:06.359 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:29:06.362 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:06.364 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:06.366 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:06.368 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:06.370 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:06.372 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:29:06.382 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 6.2243ms
2022-12-30 19:29:06.385 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:06.388 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:29:06.430 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:06.433 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 873.6290ms
2022-12-30 19:29:08.305 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:29:08.308 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:29:08.311 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:29:08.312 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:29:08.315 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:08.316 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:29:08.317 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:29:08.318 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:08.319 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:29:08.322 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:08.327 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:08.329 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:08.331 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:08.333 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:08.334 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:29:08.336 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1.8823ms
2022-12-30 19:29:08.338 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:08.340 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:29:08.353 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:08.354 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 49.9976ms
2022-12-30 19:29:09.875 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:29:09.877 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:29:09.878 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:29:09.880 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:29:09.884 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:09.889 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:29:09.890 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:29:09.892 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:09.893 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:29:09.895 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:09.898 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:09.900 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:09.902 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:09.918 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:09.924 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:29:09.930 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5.6802ms
2022-12-30 19:29:09.932 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:09.935 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:29:09.950 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:09.951 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 75.7973ms
2022-12-30 19:29:11.064 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:29:11.065 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:29:11.067 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:29:11.068 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:29:11.071 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:11.073 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:29:11.074 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:29:11.075 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:11.076 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:29:11.078 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:11.080 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:11.081 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:11.089 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:11.092 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:11.094 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:29:11.096 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1.8871ms
2022-12-30 19:29:11.097 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:11.099 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:29:11.113 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:11.114 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 49.9177ms
2022-12-30 19:29:11.929 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:29:11.930 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:29:11.931 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:29:11.933 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:29:11.937 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:11.941 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:29:11.942 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:29:11.944 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:11.945 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:29:11.947 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:11.949 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:11.950 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:11.959 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:11.961 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:11.964 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:29:11.967 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3.0148ms
2022-12-30 19:29:11.973 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:29:11.976 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:29:11.993 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:11.994 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 500 - text/plain;+charset=utf-8 65.1700ms
2022-12-30 19:29:17.740 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1/pointsofinterest - -
2022-12-30 19:29:17.742 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:29:17.745 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-12-30 19:29:17.750 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-12-30 19:29:17.753 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:29:17.755 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:29:17.757 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:29:17.759 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:29:17.765 +00:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-12-30 19:29:17.769 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:17.771 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:17.773 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:17.777 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:17.779 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:17.782 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:29:17.786 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:29:17.793 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 19:29:17.797 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name 'cityId' in request data ...
2022-12-30 19:29:17.802 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:29:17.803 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:29:17.805 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 19:29:17.820 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 19:29:17.827 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:29:17.835 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:29:17.835 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:29:17.838 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:29:17.840 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:29:17.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 19:29:17.976 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 194.0317ms
2022-12-30 19:29:17.977 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:29:17.980 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:17.983 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1/pointsofinterest - - - 200 206 application/json;+charset=utf-8 242.6623ms
2022-12-30 19:29:30.645 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7140/api/cities/3/pointsofinterest application/json 117
2022-12-30 19:29:30.646 +00:00 [DBG] POST requests are not supported
2022-12-30 19:29:30.647 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-12-30 19:29:30.649 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-12-30 19:29:30.651 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-12-30 19:29:30.672 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '28/12/2022 14:45:25', Current time: '30/12/2022 19:29:30'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-30 19:29:30.681 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '28/12/2022 14:45:25', Current time: '30/12/2022 19:29:30'.
2022-12-30 19:29:30.682 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-12-30 19:29:30.685 +00:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto] CreatePointOfInterest(System.String, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-12-30 19:29:30.692 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:30.694 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:30.695 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:30.698 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:30.699 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:30.701 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:29:30.708 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:29:30.709 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 19:29:30.711 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name 'cityId' in request data ...
2022-12-30 19:29:30.712 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:29:30.714 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:29:30.715 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 19:29:30.717 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 19:29:30.718 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-12-30 19:29:30.726 +00:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2022-12-30 19:29:30.729 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-12-30 19:29:30.731 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-12-30 19:29:30.741 +00:00 [DBG] Connection id "0HMNAJGEHFBSU", Request id "0HMNAJGEHFBSU:00000008": started reading request body.
2022-12-30 19:29:30.742 +00:00 [DBG] Connection id "0HMNAJGEHFBSU", Request id "0HMNAJGEHFBSU:00000008": done reading request body.
2022-12-30 19:29:30.788 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-12-30 19:29:30.790 +00:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-12-30 19:29:30.792 +00:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2022-12-30 19:29:30.795 +00:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2022-12-30 19:29:30.798 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:29:30.803 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:29:30.804 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:29:30.805 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:29:30.807 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:29:30.808 +00:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-12-30 19:29:30.828 +00:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-12-30 19:29:30.842 +00:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/7 and 
2022-12-30 19:29:30.844 +00:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/7
2022-12-30 19:29:30.848 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 146.7782ms
2022-12-30 19:29:30.849 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-12-30 19:29:30.851 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:30.854 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7140/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 209.0471ms
2022-12-30 19:29:37.479 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 19:29:37.482 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:29:37.484 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 19:29:37.487 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 19:29:37.490 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:29:37.492 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:29:37.493 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:29:37.494 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:29:37.499 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:29:37.504 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:29:37.506 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:29:37.507 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:29:37.510 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:29:37.511 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:29:37.516 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:29:37.521 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 6.1671ms
2022-12-30 19:29:37.523 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:29:37.524 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method24(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:29:37.542 +00:00 [DBG] Connection id "0HMNAJGEHFBSU" completed keep alive response.
2022-12-30 19:29:37.543 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 500 - text/plain;+charset=utf-8 64.1237ms
2022-12-30 19:31:26.005 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:31:26.118 +00:00 [DBG] Hosting starting
2022-12-30 19:31:26.149 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:31:26.153 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:31:26.162 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:31:26.173 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:31:26.176 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:31:26.180 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:31:26.182 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:31:26.186 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:31:26.189 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:31:26.192 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:31:26.195 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:31:26.342 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:31:26.399 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:31:26.401 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:31:26.402 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:31:26.403 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:31:26.405 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:31:26.406 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:31:26.407 +00:00 [INF] Hosting environment: Development
2022-12-30 19:31:26.408 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:31:26.409 +00:00 [DBG] Hosting started
2022-12-30 19:31:40.484 +00:00 [DBG] Connection id "0HMNAJHSS22AF" received FIN.
2022-12-30 19:31:40.494 +00:00 [DBG] Connection id "0HMNAJHSS22AF" accepted.
2022-12-30 19:31:40.499 +00:00 [DBG] Connection id "0HMNAJHSS22AF" started.
2022-12-30 19:31:40.501 +00:00 [DBG] Connection id "0HMNAJHSS22AG" accepted.
2022-12-30 19:31:40.503 +00:00 [DBG] Connection id "0HMNAJHSS22AG" started.
2022-12-30 19:31:40.519 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:31:40.578 +00:00 [DBG] Connection id "0HMNAJHSS22AF" stopped.
2022-12-30 19:31:40.583 +00:00 [DBG] Connection id "0HMNAJHSS22AF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:31:40.603 +00:00 [DBG] Connection 0HMNAJHSS22AG established using the following protocol: "Tls12"
2022-12-30 19:31:40.653 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 19:31:40.679 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:31:40.733 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:31:40.767 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 19:31:40.774 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 19:31:40.779 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:31:41.069 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:31:41.072 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:31:41.077 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:31:41.086 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:31:41.090 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:31:41.092 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:31:41.094 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:31:41.096 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:31:41.098 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:31:41.104 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:31:41.116 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 8.8739ms
2022-12-30 19:31:41.119 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:31:41.122 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method3(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:31:41.154 +00:00 [DBG] Connection id "0HMNAJHSS22AG" completed keep alive response.
2022-12-30 19:31:41.160 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 500 - text/plain;+charset=utf-8 509.4052ms
2022-12-30 19:31:52.863 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1/pointsofinterest - -
2022-12-30 19:31:52.864 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:31:52.866 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-12-30 19:31:52.867 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-12-30 19:31:52.869 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:31:52.871 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:31:52.872 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:31:52.873 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:31:52.896 +00:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterest(System.String) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-12-30 19:31:52.902 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:31:52.903 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:31:52.907 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:31:52.909 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:31:52.913 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:31:52.916 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:31:52.918 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-12-30 19:31:52.925 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 19:31:52.928 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name 'cityId' in request data ...
2022-12-30 19:31:52.933 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:31:52.934 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:31:52.938 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 19:31:52.951 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 19:31:52.957 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:31:52.965 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:31:52.967 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:31:52.968 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:31:52.970 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:31:52.972 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 19:31:53.112 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 196.5943ms
2022-12-30 19:31:53.114 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-12-30 19:31:53.116 +00:00 [DBG] Connection id "0HMNAJHSS22AG" completed keep alive response.
2022-12-30 19:31:53.117 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1/pointsofinterest - - - 200 206 application/json;+charset=utf-8 254.7051ms
2022-12-30 19:32:49.526 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:32:49.686 +00:00 [DBG] Hosting starting
2022-12-30 19:32:49.754 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:32:49.763 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:32:49.803 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:32:49.824 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:32:49.832 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:32:49.841 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:32:49.845 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:32:49.856 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:32:49.862 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:32:49.872 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:32:49.874 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:32:50.861 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:32:50.929 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:32:50.931 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:32:50.933 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:32:50.935 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:32:50.937 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:32:50.939 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:32:50.940 +00:00 [INF] Hosting environment: Development
2022-12-30 19:32:50.941 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:32:50.942 +00:00 [DBG] Hosting started
2022-12-30 19:33:02.397 +00:00 [DBG] Connection id "0HMNAJIL9841R" received FIN.
2022-12-30 19:33:02.449 +00:00 [DBG] Connection id "0HMNAJIL9841R" accepted.
2022-12-30 19:33:02.454 +00:00 [DBG] Connection id "0HMNAJIL9841R" started.
2022-12-30 19:33:02.455 +00:00 [DBG] Connection id "0HMNAJIL9841S" accepted.
2022-12-30 19:33:02.456 +00:00 [DBG] Connection id "0HMNAJIL9841S" started.
2022-12-30 19:33:02.483 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:33:02.549 +00:00 [DBG] Connection id "0HMNAJIL9841R" stopped.
2022-12-30 19:33:02.553 +00:00 [DBG] Connection id "0HMNAJIL9841R" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:33:02.562 +00:00 [DBG] Connection 0HMNAJIL9841S established using the following protocol: "Tls12"
2022-12-30 19:33:02.608 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 19:33:02.627 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:33:02.665 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:33:02.697 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 19:33:02.705 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 19:33:02.708 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:33:02.994 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:33:02.996 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:33:02.999 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:33:03.009 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:33:03.012 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:33:03.013 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:33:03.019 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:33:03.024 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:33:03.025 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:33:03.028 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:33:03.030 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:33:03.037 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:33:03.043 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:33:03.044 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:33:03.045 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:33:03.047 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:33:03.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 19:33:03.275 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 239.4475ms
2022-12-30 19:33:03.278 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:33:03.280 +00:00 [DBG] Connection id "0HMNAJIL9841S" completed keep alive response.
2022-12-30 19:33:03.284 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 200 1037 application/json;+charset=utf-8 678.4319ms
2022-12-30 19:33:28.699 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:33:28.866 +00:00 [DBG] Hosting starting
2022-12-30 19:33:28.923 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:33:28.937 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:33:28.957 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:33:28.981 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:33:28.986 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:33:28.995 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:33:28.999 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:33:29.008 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:33:29.014 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:33:29.021 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:33:29.026 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:33:29.234 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:33:29.284 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:33:29.285 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:33:29.286 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:33:29.288 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:33:29.289 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:33:29.290 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:33:29.291 +00:00 [INF] Hosting environment: Development
2022-12-30 19:33:29.293 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:33:29.295 +00:00 [DBG] Hosting started
2022-12-30 19:33:48.953 +00:00 [DBG] Connection id "0HMNAJJ357MDM" received FIN.
2022-12-30 19:33:48.965 +00:00 [DBG] Connection id "0HMNAJJ357MDM" accepted.
2022-12-30 19:33:48.970 +00:00 [DBG] Connection id "0HMNAJJ357MDM" started.
2022-12-30 19:33:48.971 +00:00 [DBG] Connection id "0HMNAJJ357MDN" accepted.
2022-12-30 19:33:48.974 +00:00 [DBG] Connection id "0HMNAJJ357MDN" started.
2022-12-30 19:33:48.990 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:33:49.049 +00:00 [DBG] Connection id "0HMNAJJ357MDM" stopped.
2022-12-30 19:33:49.053 +00:00 [DBG] Connection id "0HMNAJJ357MDM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:33:49.061 +00:00 [DBG] Connection 0HMNAJJ357MDN established using the following protocol: "Tls12"
2022-12-30 19:33:49.107 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 19:33:49.129 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:33:49.171 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:33:49.201 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 19:33:49.205 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 19:33:49.208 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:33:49.538 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:33:49'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-30 19:33:49.561 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:33:49'.
2022-12-30 19:33:49.568 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:33:49.582 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:33:49.585 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:33:49.586 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:33:49.589 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:33:49.592 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:33:49.595 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:33:49.598 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:33:49.605 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4.0767ms
2022-12-30 19:33:49.610 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:33:49.614 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'CityInfo.API.Repositories.CityRepository' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method3(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-30 19:33:49.640 +00:00 [DBG] Connection id "0HMNAJJ357MDN" completed keep alive response.
2022-12-30 19:33:49.646 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 500 - text/plain;+charset=utf-8 539.4478ms
2022-12-30 19:35:38.754 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:35:38.971 +00:00 [DBG] Hosting starting
2022-12-30 19:35:39.009 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:35:39.012 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:35:39.021 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:35:39.031 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:35:39.033 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:35:39.036 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:35:39.040 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:35:39.044 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:35:39.048 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:35:39.051 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:35:39.053 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:35:39.283 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:35:39.352 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:35:39.353 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:35:39.355 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:35:39.356 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:35:39.358 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:35:39.360 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:35:39.361 +00:00 [INF] Hosting environment: Development
2022-12-30 19:35:39.363 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:35:39.364 +00:00 [DBG] Hosting started
2022-12-30 19:35:52.616 +00:00 [DBG] Connection id "0HMNAJK80IQ5Q" received FIN.
2022-12-30 19:35:52.627 +00:00 [DBG] Connection id "0HMNAJK80IQ5Q" accepted.
2022-12-30 19:35:52.633 +00:00 [DBG] Connection id "0HMNAJK80IQ5Q" started.
2022-12-30 19:35:52.635 +00:00 [DBG] Connection id "0HMNAJK80IQ5R" accepted.
2022-12-30 19:35:52.637 +00:00 [DBG] Connection id "0HMNAJK80IQ5R" started.
2022-12-30 19:35:52.653 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:35:52.743 +00:00 [DBG] Connection id "0HMNAJK80IQ5Q" stopped.
2022-12-30 19:35:52.755 +00:00 [DBG] Connection id "0HMNAJK80IQ5Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:35:52.762 +00:00 [DBG] Connection 0HMNAJK80IQ5R established using the following protocol: "Tls12"
2022-12-30 19:35:52.814 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 19:35:52.834 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:35:52.892 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:35:52.929 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 19:35:52.936 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 19:35:52.939 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:35:53.264 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:35:53'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-30 19:35:53.276 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:35:53'.
2022-12-30 19:35:53.280 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:35:53.292 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:35:53.295 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:35:53.296 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:35:53.298 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:35:53.300 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:35:53.306 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:35:53.310 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:35:53.456 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:35:53.459 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:35:53.464 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:35:53.464 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:35:53.465 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:35:53.467 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:35:53.470 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 19:35:53.597 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 284.571ms
2022-12-30 19:35:53.600 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:35:53.602 +00:00 [DBG] Connection id "0HMNAJK80IQ5R" completed keep alive response.
2022-12-30 19:35:53.605 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 200 1037 application/json;+charset=utf-8 794.2197ms
2022-12-30 19:36:40.163 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:36:40.323 +00:00 [DBG] Hosting starting
2022-12-30 19:36:40.378 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:36:40.382 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:36:40.401 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:36:40.423 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:36:40.431 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:36:40.438 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:36:40.443 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:36:40.452 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:36:40.459 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:36:40.467 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:36:40.470 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:36:40.685 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:36:40.757 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:36:40.759 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:36:40.760 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:36:40.761 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:36:40.763 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:36:40.765 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:36:40.765 +00:00 [INF] Hosting environment: Development
2022-12-30 19:36:40.767 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:36:40.768 +00:00 [DBG] Hosting started
2022-12-30 19:36:45.086 +00:00 [DBG] Connection id "0HMNAJKNKVDNB" received FIN.
2022-12-30 19:36:45.097 +00:00 [DBG] Connection id "0HMNAJKNKVDNB" accepted.
2022-12-30 19:36:45.104 +00:00 [DBG] Connection id "0HMNAJKNKVDNB" started.
2022-12-30 19:36:45.107 +00:00 [DBG] Connection id "0HMNAJKNKVDNC" accepted.
2022-12-30 19:36:45.109 +00:00 [DBG] Connection id "0HMNAJKNKVDNC" started.
2022-12-30 19:36:45.130 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:36:45.245 +00:00 [DBG] Connection id "0HMNAJKNKVDNB" stopped.
2022-12-30 19:36:45.249 +00:00 [DBG] Connection id "0HMNAJKNKVDNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:36:45.257 +00:00 [DBG] Connection 0HMNAJKNKVDNC established using the following protocol: "Tls12"
2022-12-30 19:36:45.346 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 19:36:45.377 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:36:45.442 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:36:45.479 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 19:36:45.486 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 19:36:45.489 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:36:46.811 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:36:46'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-30 19:36:46.826 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:36:46'.
2022-12-30 19:36:46.830 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:36:46.844 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:36:46.848 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:36:46.849 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:36:46.851 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:36:46.856 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:36:46.858 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:36:46.861 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:36:47.007 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:36:47.011 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:36:47.016 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:36:47.017 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:36:47.018 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:36:47.019 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:36:47.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 19:36:47.198 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 333.6181ms
2022-12-30 19:36:47.202 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:36:47.204 +00:00 [DBG] Connection id "0HMNAJKNKVDNC" completed keep alive response.
2022-12-30 19:36:47.209 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 200 1037 application/json;+charset=utf-8 1869.9438ms
2022-12-30 19:36:51.677 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:36:51.679 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:36:51.681 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:36:51.682 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:36:51.686 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:36:51.723 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:36:51.726 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:36:51.728 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:36:51.758 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:36:51.760 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:36:51.762 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:36:51.764 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:36:51.766 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:36:51.769 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:36:51.771 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:36:51.774 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:36:51.782 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:36:51.787 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:36:51.792 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:36:51.793 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:36:51.796 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:36:51.808 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:36:51.813 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:36:51.820 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:36:51.841 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:36:51.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 19:36:51.858 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 87.0741ms
2022-12-30 19:36:51.859 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:36:51.861 +00:00 [DBG] Connection id "0HMNAJKNKVDNC" completed keep alive response.
2022-12-30 19:36:51.862 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 200 592 application/xml;+charset=utf-8 184.8732ms
2022-12-30 19:37:43.203 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:37:43.211 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:37:43.212 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:37:43.215 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:37:43.218 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:37:43.224 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:37:43.226 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:37:43.227 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:37:43.229 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:37:43.234 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:37:43.235 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:37:43.237 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:37:43.241 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:37:43.243 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:37:43.247 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:37:43.249 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:37:43.251 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:37:43.252 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:37:43.253 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:37:43.256 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:37:43.258 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:37:43.263 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:37:43.265 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:37:43.268 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:37:43.269 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:37:43.273 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 19:37:43.278 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 30.4719ms
2022-12-30 19:37:43.279 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:37:43.281 +00:00 [DBG] Connection id "0HMNAJKNKVDNC" completed keep alive response.
2022-12-30 19:37:43.282 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 200 592 application/xml;+charset=utf-8 78.7366ms
2022-12-30 19:39:09.199 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:39:09.441 +00:00 [DBG] Hosting starting
2022-12-30 19:39:09.483 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:39:09.488 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:39:09.508 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:39:09.524 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:39:09.527 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:39:09.533 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:39:09.536 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:39:09.540 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:39:09.543 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:39:09.550 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:39:09.552 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:39:10.237 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:39:10.311 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:39:10.312 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:39:10.313 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:39:10.314 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:39:10.316 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:39:10.317 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:39:10.318 +00:00 [INF] Hosting environment: Development
2022-12-30 19:39:10.320 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:39:10.321 +00:00 [DBG] Hosting started
2022-12-30 19:39:29.878 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:39:29.992 +00:00 [DBG] Hosting starting
2022-12-30 19:39:30.033 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:39:30.037 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:39:30.048 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:39:30.065 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:39:30.069 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:39:30.075 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:39:30.077 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:39:30.084 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:39:30.091 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:39:30.095 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:39:30.097 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:39:30.292 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:39:30.357 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:39:30.359 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:39:30.360 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:39:30.361 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:39:30.362 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:39:30.364 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:39:30.365 +00:00 [INF] Hosting environment: Development
2022-12-30 19:39:30.366 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:39:30.367 +00:00 [DBG] Hosting started
2022-12-30 19:39:47.554 +00:00 [DBG] Connection id "0HMNAJME144MD" received FIN.
2022-12-30 19:39:47.569 +00:00 [DBG] Connection id "0HMNAJME144MD" accepted.
2022-12-30 19:39:47.574 +00:00 [DBG] Connection id "0HMNAJME144MD" started.
2022-12-30 19:39:47.575 +00:00 [DBG] Connection id "0HMNAJME144ME" accepted.
2022-12-30 19:39:47.576 +00:00 [DBG] Connection id "0HMNAJME144ME" started.
2022-12-30 19:39:47.609 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:39:47.728 +00:00 [DBG] Connection 0HMNAJME144ME established using the following protocol: "Tls12"
2022-12-30 19:39:47.743 +00:00 [DBG] Connection id "0HMNAJME144MD" stopped.
2022-12-30 19:39:47.745 +00:00 [DBG] Connection id "0HMNAJME144MD" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:39:47.793 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities - -
2022-12-30 19:39:47.822 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:39:47.885 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:39:47.926 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-12-30 19:39:47.933 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-12-30 19:39:47.935 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:39:48.319 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:39:48'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-30 19:39:48.338 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '30/12/2022 19:28:05', Current time: '30/12/2022 19:39:48'.
2022-12-30 19:39:48.343 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:39:48.360 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:39:48.365 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:39:48.366 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:39:48.368 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:39:48.370 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:39:48.372 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:39:48.374 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:39:48.514 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:39:48.519 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:39:48.523 +00:00 [DBG] No information found on request to perform content negotiation.
2022-12-30 19:39:48.524 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-30 19:39:48.525 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-30 19:39:48.527 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-30 19:39:48.530 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-30 19:39:48.683 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 302.8199ms
2022-12-30 19:39:48.686 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-12-30 19:39:48.687 +00:00 [DBG] Connection id "0HMNAJME144ME" completed keep alive response.
2022-12-30 19:39:48.691 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities - - - 200 1037 application/json;+charset=utf-8 901.2884ms
2022-12-30 19:39:54.544 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:39:54.545 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:39:54.547 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:39:54.548 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:39:54.550 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:39:54.586 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:39:54.588 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:39:54.591 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:39:54.619 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:39:54.621 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:39:54.625 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:39:54.627 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:39:54.629 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:39:54.631 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:39:54.633 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:39:54.634 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:39:54.648 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:39:54.651 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:39:54.654 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:39:54.656 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:39:54.658 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:39:54.667 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:39:54.673 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 19:39:54.677 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 19:39:54.681 +00:00 [INF] STUART LOG: About to send request
2022-12-30 19:39:55.470 +00:00 [INF] STUART LOG: Below response
2022-12-30 19:39:55.476 +00:00 [INF] STUART LOG: Ready to return
2022-12-30 19:39:55.548 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:39:55.553 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:39:55.578 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:39:55.579 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 19:39:55.596 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 963.1376ms
2022-12-30 19:39:55.599 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:39:55.604 +00:00 [DBG] Connection id "0HMNAJME144ME" completed keep alive response.
2022-12-30 19:39:55.606 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 200 259 application/xml;+charset=utf-8 1062.1332ms
2022-12-30 19:41:01.801 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/1 - -
2022-12-30 19:41:01.805 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:41:01.806 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2022-12-30 19:41:01.808 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2022-12-30 19:41:01.809 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:41:01.813 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:41:01.815 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:41:01.817 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:41:01.819 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:41:01.821 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:41:01.825 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:41:01.827 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:41:01.829 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:41:01.831 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:41:01.834 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:41:01.836 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:41:01.840 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:41:01.842 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:41:01.843 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:41:01.845 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:41:01.846 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:41:01.849 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:41:01.852 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 19:41:01.857 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 19:41:01.859 +00:00 [INF] STUART LOG: About to send request
2022-12-30 19:41:02.194 +00:00 [INF] STUART LOG: Below response
2022-12-30 19:41:02.201 +00:00 [INF] STUART LOG: Ready to return
2022-12-30 19:41:02.208 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:41:02.222 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:41:02.225 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:41:02.228 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 19:41:02.232 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 398.4702ms
2022-12-30 19:41:02.238 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:41:02.240 +00:00 [DBG] Connection id "0HMNAJME144ME" completed keep alive response.
2022-12-30 19:41:02.241 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/1 - - - 200 267 application/xml;+charset=utf-8 440.4951ms
2022-12-30 19:51:37.603 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:51:37.786 +00:00 [DBG] Hosting starting
2022-12-30 19:51:37.830 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:51:37.835 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:51:37.857 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:51:37.871 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:51:37.877 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:51:37.880 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:51:37.882 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:51:37.886 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:51:37.889 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:51:37.895 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:51:37.896 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:51:38.167 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:51:38.230 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:51:38.231 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:51:38.232 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:51:38.234 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:51:38.236 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:51:38.237 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:51:38.238 +00:00 [INF] Hosting environment: Development
2022-12-30 19:51:38.239 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:51:38.240 +00:00 [DBG] Hosting started
2022-12-30 19:52:21.920 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:52:22.070 +00:00 [DBG] Hosting starting
2022-12-30 19:52:22.108 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:52:22.113 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:52:22.133 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:52:22.148 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:52:22.151 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:52:22.154 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:52:22.156 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:52:22.160 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:52:22.163 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:52:22.168 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:52:22.170 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:52:22.401 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:52:22.468 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:52:22.470 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:52:22.471 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:52:22.473 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:52:22.474 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:52:22.476 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:52:22.477 +00:00 [INF] Hosting environment: Development
2022-12-30 19:52:22.479 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:52:22.480 +00:00 [DBG] Hosting started
2022-12-30 19:52:27.528 +00:00 [DBG] Connection id "0HMNAJTGGPMB7" received FIN.
2022-12-30 19:52:27.539 +00:00 [DBG] Connection id "0HMNAJTGGPMB7" accepted.
2022-12-30 19:52:27.547 +00:00 [DBG] Connection id "0HMNAJTGGPMB7" started.
2022-12-30 19:52:27.550 +00:00 [DBG] Connection id "0HMNAJTGGPMB8" accepted.
2022-12-30 19:52:27.554 +00:00 [DBG] Connection id "0HMNAJTGGPMB8" started.
2022-12-30 19:52:27.580 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:52:28.130 +00:00 [DBG] Connection 0HMNAJTGGPMB8 established using the following protocol: "Tls12"
2022-12-30 19:52:28.161 +00:00 [DBG] Connection id "0HMNAJTGGPMB7" stopped.
2022-12-30 19:52:28.164 +00:00 [DBG] Connection id "0HMNAJTGGPMB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:52:28.217 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/4 - -
2022-12-30 19:52:28.245 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:52:28.333 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:52:28.390 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4'
2022-12-30 19:52:28.398 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/4'
2022-12-30 19:52:28.402 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:52:28.876 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:52:28.877 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:52:28.884 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:52:28.924 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:52:28.927 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:52:28.929 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:52:28.933 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:52:28.935 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:52:28.936 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:52:28.939 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:52:29.077 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:52:29.094 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:52:29.097 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:52:29.101 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:52:29.103 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:52:29.105 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:52:29.115 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:52:29.124 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 19:52:29.132 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 19:52:29.141 +00:00 [INF] STUART LOG: About to send request
2022-12-30 19:52:29.873 +00:00 [INF] STUART LOG: Below response
2022-12-30 19:52:29.881 +00:00 [INF] STUART LOG: Ready to return
2022-12-30 19:52:29.960 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:52:29.969 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:52:29.989 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:52:29.991 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 19:52:30.019 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1073.8897ms
2022-12-30 19:52:30.023 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:52:30.031 +00:00 [DBG] Connection id "0HMNAJTGGPMB8" completed keep alive response.
2022-12-30 19:52:30.036 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/4 - - - 200 235 application/xml;+charset=utf-8 1824.3530ms
2022-12-30 19:56:52.735 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:56:59.228 +00:00 [DBG] Hosting starting
2022-12-30 19:56:59.270 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:56:59.275 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:56:59.302 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:56:59.318 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:56:59.322 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:56:59.326 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:56:59.328 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:56:59.333 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:56:59.338 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:56:59.341 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:56:59.342 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:56:59.606 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:56:59.697 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:56:59.699 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:56:59.701 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:56:59.703 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:56:59.704 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:56:59.705 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:56:59.706 +00:00 [INF] Hosting environment: Development
2022-12-30 19:56:59.707 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:56:59.709 +00:00 [DBG] Hosting started
2022-12-30 19:57:10.378 +00:00 [DBG] Connection id "0HMNAK04Q7BF8" accepted.
2022-12-30 19:57:10.384 +00:00 [DBG] Connection id "0HMNAK04Q7BF8" started.
2022-12-30 19:57:10.473 +00:00 [DBG] Connection 0HMNAK04Q7BF8 established using the following protocol: "Tls12"
2022-12-30 19:57:10.572 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/swagger/index.html - -
2022-12-30 19:57:10.632 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:57:10.771 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-30 19:57:11.359 +00:00 [DBG] Connection id "0HMNAK04Q7BF9" accepted.
2022-12-30 19:57:11.360 +00:00 [DBG] Connection id "0HMNAK04Q7BF9" received FIN.
2022-12-30 19:57:11.489 +00:00 [DBG] Connection id "0HMNAK04Q7BFA" accepted.
2022-12-30 19:57:11.493 +00:00 [DBG] Connection id "0HMNAK04Q7BFA" started.
2022-12-30 19:57:11.489 +00:00 [DBG] Connection id "0HMNAK04Q7BF9" started.
2022-12-30 19:57:11.512 +00:00 [DBG] Connection 0HMNAK04Q7BFA established using the following protocol: "Tls12"
2022-12-30 19:57:11.523 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:57:11.582 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/4 - -
2022-12-30 19:57:11.878 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:57:11.881 +00:00 [DBG] Connection id "0HMNAK04Q7BF9" stopped.
2022-12-30 19:57:11.896 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-30 19:57:11.945 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/swagger/swagger-ui.css - -
2022-12-30 19:57:11.945 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/swagger/swagger-ui-standalone-preset.js - -
2022-12-30 19:57:11.945 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/swagger/swagger-ui-bundle.js - -
2022-12-30 19:57:11.962 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/swagger/index.html - - - 200 - text/html;charset=utf-8 1394.9311ms
2022-12-30 19:57:11.979 +00:00 [DBG] Connection id "0HMNAK04Q7BF9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:57:12.124 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4'
2022-12-30 19:57:12.129 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-12-30 19:57:12.129 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-12-30 19:57:12.140 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/4'
2022-12-30 19:57:12.146 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 201.4767ms
2022-12-30 19:57:12.154 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:57:12.146 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/swagger/swagger-ui.css - - - 200 143632 text/css 200.9601ms
2022-12-30 19:57:12.197 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-12-30 19:57:12.201 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 255.5164ms
2022-12-30 19:57:12.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/_framework/aspnetcore-browser-refresh.js - -
2022-12-30 19:57:12.395 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 9.5412ms
2022-12-30 19:57:12.435 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/_vs/browserLink - -
2022-12-30 19:57:13.302 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 866.5718ms
2022-12-30 19:57:13.463 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/swagger/v1/swagger.json - -
2022-12-30 19:57:13.593 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7140/swagger/favicon-32x32.png - -
2022-12-30 19:57:13.633 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-12-30 19:57:13.646 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/swagger/favicon-32x32.png - - - 200 628 image/png 52.8021ms
2022-12-30 19:57:13.725 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:57:13.728 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:57:13.742 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:57:13.843 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:57:13.855 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:57:13.859 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:57:13.862 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:57:13.867 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:57:13.876 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:57:13.880 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:57:13.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7140/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 440.5157ms
2022-12-30 19:57:14.086 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:57:14.111 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:57:14.116 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:57:14.125 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:57:14.126 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:57:14.128 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:57:14.142 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:57:14.149 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 19:57:14.157 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 19:57:14.165 +00:00 [INF] STUART LOG: About to send request
2022-12-30 19:57:14.990 +00:00 [INF] STUART LOG: Below response
2022-12-30 19:57:14.994 +00:00 [INF] STUART LOG: Ready to return
2022-12-30 19:57:15.059 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:57:15.071 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:57:15.074 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:57:15.076 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 19:57:15.124 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1241.723ms
2022-12-30 19:57:15.127 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:57:15.134 +00:00 [DBG] Connection id "0HMNAK04Q7BFA" completed keep alive response.
2022-12-30 19:57:15.136 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/4 - - - 200 235 application/xml;+charset=utf-8 3555.0033ms
2022-12-30 19:57:22.766 +00:00 [DBG] Connection id "0HMNAK04Q7BF8" received FIN.
2022-12-30 19:57:22.772 +00:00 [DBG] Connection id "0HMNAK04Q7BF8" is closed. The last processed stream ID was 15.
2022-12-30 19:57:22.774 +00:00 [DBG] Connection id "0HMNAK04Q7BF8" sending FIN because: "The client closed the connection."
2022-12-30 19:57:22.782 +00:00 [DBG] Connection id "0HMNAK04Q7BF8" stopped.
2022-12-30 19:57:28.796 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/6 - -
2022-12-30 19:57:28.797 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:57:28.799 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/6'
2022-12-30 19:57:28.802 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/6'
2022-12-30 19:57:28.804 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:57:28.806 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:57:28.807 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:57:28.808 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:57:28.812 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:57:28.814 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:57:28.816 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:57:28.819 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:57:28.822 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:57:28.824 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:57:28.828 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:57:28.829 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:57:28.831 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:57:28.832 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:57:28.835 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:57:28.837 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:57:28.839 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:57:28.840 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:57:28.844 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 19:57:28.845 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 19:57:28.846 +00:00 [INF] STUART LOG: About to send request
2022-12-30 19:57:28.937 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:57:28.966 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-30 19:57:28.991 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2022-12-30 19:57:28.993 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-12-30 19:57:29.013 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 185.1664ms
2022-12-30 19:57:29.015 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:57:29.018 +00:00 [DBG] Connection id "0HMNAK04Q7BFA" completed keep alive response.
2022-12-30 19:57:29.022 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/6 - - - 404 225 application/problem+xml;+charset=utf-8 225.4582ms
2022-12-30 19:57:54.880 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:57:55.002 +00:00 [DBG] Hosting starting
2022-12-30 19:57:55.037 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:57:55.042 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:57:55.050 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:57:55.062 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:57:55.065 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:57:55.068 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:57:55.070 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:57:55.073 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:57:55.080 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:57:55.086 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:57:55.088 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:57:55.250 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:57:55.319 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:57:55.321 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:57:55.322 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:57:55.324 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:57:55.325 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:57:55.327 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:57:55.328 +00:00 [INF] Hosting environment: Development
2022-12-30 19:57:55.329 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:57:55.330 +00:00 [DBG] Hosting started
2022-12-30 19:58:06.134 +00:00 [DBG] Connection id "0HMNAK0LE03VM" received FIN.
2022-12-30 19:58:06.149 +00:00 [DBG] Connection id "0HMNAK0LE03VM" accepted.
2022-12-30 19:58:06.154 +00:00 [DBG] Connection id "0HMNAK0LE03VM" started.
2022-12-30 19:58:06.156 +00:00 [DBG] Connection id "0HMNAK0LE03VN" accepted.
2022-12-30 19:58:06.159 +00:00 [DBG] Connection id "0HMNAK0LE03VN" started.
2022-12-30 19:58:06.180 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:58:06.250 +00:00 [DBG] Connection id "0HMNAK0LE03VM" stopped.
2022-12-30 19:58:06.255 +00:00 [DBG] Connection id "0HMNAK0LE03VM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:58:06.259 +00:00 [DBG] Connection 0HMNAK0LE03VN established using the following protocol: "Tls12"
2022-12-30 19:58:06.320 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/4 - -
2022-12-30 19:58:06.342 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:58:06.383 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:58:06.422 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4'
2022-12-30 19:58:06.428 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/4'
2022-12-30 19:58:06.432 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:58:06.795 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:58:06.797 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:58:06.803 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:58:06.832 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:58:06.840 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:58:06.842 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:58:06.844 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:58:06.846 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:58:06.847 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:58:06.850 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:06.988 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:07.004 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:58:07.009 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:58:07.011 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:58:07.013 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:58:07.014 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:58:07.028 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:58:07.035 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 19:58:07.041 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 19:58:07.044 +00:00 [INF] STUART LOG: About to send request
2022-12-30 19:58:07.855 +00:00 [INF] STUART LOG: Below response
2022-12-30 19:58:07.858 +00:00 [INF] STUART LOG: Ready to return
2022-12-30 19:58:07.918 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:58:07.925 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:58:07.933 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:58:07.936 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 19:58:07.958 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1101.9515ms
2022-12-30 19:58:07.961 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:58:07.967 +00:00 [DBG] Connection id "0HMNAK0LE03VN" completed keep alive response.
2022-12-30 19:58:07.971 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/4 - - - 200 235 application/xml;+charset=utf-8 1656.0735ms
2022-12-30 19:58:14.515 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/6 - -
2022-12-30 19:58:14.518 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 19:58:14.521 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/6'
2022-12-30 19:58:14.523 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/6'
2022-12-30 19:58:14.526 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:58:14.533 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:58:14.535 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:58:14.537 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:58:14.539 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:58:14.541 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:58:14.543 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:58:14.550 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:58:14.554 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:58:14.555 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:58:14.557 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:14.558 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:14.566 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 19:58:14.569 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 19:58:14.571 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:58:14.572 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 19:58:14.574 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 19:58:14.580 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 19:58:14.588 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 19:58:14.589 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 19:58:14.590 +00:00 [INF] STUART LOG: About to send request
2022-12-30 19:58:14.684 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:58:14.688 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-30 19:58:14.697 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2022-12-30 19:58:14.700 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-12-30 19:58:14.707 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 150.644ms
2022-12-30 19:58:14.709 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 19:58:14.712 +00:00 [DBG] Connection id "0HMNAK0LE03VN" completed keep alive response.
2022-12-30 19:58:14.717 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/6 - - - 404 225 application/problem+xml;+charset=utf-8 201.7869ms
2022-12-30 19:58:35.352 +00:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/6 - -
2022-12-30 19:58:35.356 +00:00 [DBG] DELETE requests are not supported
2022-12-30 19:58:35.366 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/delete/6'
2022-12-30 19:58:35.369 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/delete/{id}' is valid for the request path '/api/cities/delete/6'
2022-12-30 19:58:35.372 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:58:35.379 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:58:35.381 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:58:35.382 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:58:35.387 +00:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:58:35.389 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:58:35.390 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:58:35.401 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:58:35.415 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:58:35.416 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:58:35.418 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:35.420 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:35.421 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 19:58:35.422 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name '' in request data ...
2022-12-30 19:58:35.431 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:35.433 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:35.435 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:35.437 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 19:58:35.448 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:35.461 +00:00 [DBG] The request has model state errors, returning an error response.
2022-12-30 19:58:35.470 +00:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-30 19:58:35.471 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:58:35.479 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-30 19:58:35.500 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2022-12-30 19:58:35.502 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-30 19:58:35.506 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 87.7278ms
2022-12-30 19:58:35.507 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:58:35.510 +00:00 [DBG] Connection id "0HMNAK0LE03VN" completed keep alive response.
2022-12-30 19:58:35.512 +00:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/6 - - - 400 326 application/problem+xml;+charset=utf-8 159.7416ms
2022-12-30 19:58:57.716 +00:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/4 - -
2022-12-30 19:58:57.719 +00:00 [DBG] DELETE requests are not supported
2022-12-30 19:58:57.720 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/delete/4'
2022-12-30 19:58:57.723 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/delete/{id}' is valid for the request path '/api/cities/delete/4'
2022-12-30 19:58:57.727 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:58:57.729 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:58:57.730 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:58:57.731 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:58:57.732 +00:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:58:57.737 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:58:57.741 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:58:57.744 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:58:57.747 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:58:57.749 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:58:57.753 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:57.754 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:58:57.758 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 19:58:57.762 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name '' in request data ...
2022-12-30 19:58:57.765 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:57.769 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:57.771 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:57.774 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 19:58:57.778 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 19:58:57.780 +00:00 [DBG] The request has model state errors, returning an error response.
2022-12-30 19:58:57.784 +00:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-30 19:58:57.786 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:58:57.793 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-30 19:58:57.803 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2022-12-30 19:58:57.805 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-30 19:58:57.809 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 55.6816ms
2022-12-30 19:58:57.810 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:58:57.816 +00:00 [DBG] Connection id "0HMNAK0LE03VN" completed keep alive response.
2022-12-30 19:58:57.817 +00:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/4 - - - 400 326 application/problem+xml;+charset=utf-8 102.6740ms
2022-12-30 19:59:30.441 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-30 19:59:30.619 +00:00 [DBG] Hosting starting
2022-12-30 19:59:30.668 +00:00 [INF] User profile is available. Using 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-30 19:59:30.674 +00:00 [DBG] Reading data from file 'C:\Users\Stuart\AppData\Local\ASP.NET\DataProtection-Keys\key-6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3.xml'.
2022-12-30 19:59:30.704 +00:00 [DBG] Found key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3}.
2022-12-30 19:59:30.725 +00:00 [DBG] Considering key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} with expiration date 2023-03-28 13:29:45Z as default key.
2022-12-30 19:59:30.731 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:59:30.735 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-30 19:59:30.737 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-30 19:59:30.741 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-30 19:59:30.747 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-30 19:59:30.750 +00:00 [DBG] Using key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} as the default key.
2022-12-30 19:59:30.752 +00:00 [DBG] Key ring with default key {6bdc38d1-9d61-4bbc-b88c-a55c3c5c50e3} was loaded during application startup.
2022-12-30 19:59:31.016 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 5155354C233AC09422874C062C08C1D70F62E7F0)
2022-12-30 19:59:31.092 +00:00 [INF] Now listening on: https://localhost:7140
2022-12-30 19:59:31.093 +00:00 [INF] Now listening on: http://localhost:5030
2022-12-30 19:59:31.095 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-12-30 19:59:31.096 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-30 19:59:31.098 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-30 19:59:31.100 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-30 19:59:31.101 +00:00 [INF] Hosting environment: Development
2022-12-30 19:59:31.102 +00:00 [INF] Content root path: C:\Users\Stuart\OneDrive\CSharpProjects\CityInfo.API\CityInfo.API\
2022-12-30 19:59:31.103 +00:00 [DBG] Hosting started
2022-12-30 19:59:40.999 +00:00 [DBG] Connection id "0HMNAK1HMMN83" received FIN.
2022-12-30 19:59:41.012 +00:00 [DBG] Connection id "0HMNAK1HMMN83" accepted.
2022-12-30 19:59:41.014 +00:00 [DBG] Connection id "0HMNAK1HMMN83" started.
2022-12-30 19:59:41.015 +00:00 [DBG] Connection id "0HMNAK1HMMN84" accepted.
2022-12-30 19:59:41.019 +00:00 [DBG] Connection id "0HMNAK1HMMN84" started.
2022-12-30 19:59:41.046 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-30 19:59:41.132 +00:00 [DBG] Connection 0HMNAK1HMMN84 established using the following protocol: "Tls12"
2022-12-30 19:59:41.149 +00:00 [DBG] Connection id "0HMNAK1HMMN83" stopped.
2022-12-30 19:59:41.151 +00:00 [DBG] Connection id "0HMNAK1HMMN83" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-30 19:59:41.208 +00:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/6 - -
2022-12-30 19:59:41.241 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-30 19:59:41.271 +00:00 [DBG] DELETE requests are not supported
2022-12-30 19:59:41.324 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/delete/6'
2022-12-30 19:59:41.329 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/delete/{cityId}' is valid for the request path '/api/cities/delete/6'
2022-12-30 19:59:41.331 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:59:41.704 +00:00 [DBG] Successfully validated the token.
2022-12-30 19:59:41.706 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 19:59:41.710 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:59:41.747 +00:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 19:59:41.750 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 19:59:41.753 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 19:59:41.755 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 19:59:41.757 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 19:59:41.761 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 19:59:41.764 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:59:41.932 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 19:59:41.954 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 19:59:41.957 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name 'cityId' in request data ...
2022-12-30 19:59:41.960 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:59:41.961 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 19:59:41.962 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 19:59:41.975 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 19:59:41.980 +00:00 [INF] STUART LOG: Going to delete
2022-12-30 19:59:42.721 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 19:59:42.727 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 19:59:42.746 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 19:59:42.748 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-12-30 19:59:42.765 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 998.7191ms
2022-12-30 19:59:42.772 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 19:59:42.779 +00:00 [DBG] Connection id "0HMNAK1HMMN84" completed keep alive response.
2022-12-30 19:59:42.783 +00:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/6 - - - 200 83 application/xml;+charset=utf-8 1582.1018ms
2022-12-30 20:00:01.007 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/delete/6 - -
2022-12-30 20:00:01.024 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 20:00:01.027 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/delete/6'
2022-12-30 20:00:01.029 +00:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2022-12-30 20:00:01.061 +00:00 [DBG] Successfully validated the token.
2022-12-30 20:00:01.064 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 20:00:01.071 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2022-12-30 20:00:01.075 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2022-12-30 20:00:01.080 +00:00 [DBG] Connection id "0HMNAK1HMMN84" completed keep alive response.
2022-12-30 20:00:01.085 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/delete/6 - - - 405 0 - 77.7684ms
2022-12-30 20:00:09.059 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/6 - -
2022-12-30 20:00:09.064 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 20:00:09.066 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/6'
2022-12-30 20:00:09.069 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/6'
2022-12-30 20:00:09.072 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:00:09.075 +00:00 [DBG] Successfully validated the token.
2022-12-30 20:00:09.076 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 20:00:09.079 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:00:09.088 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 20:00:09.091 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 20:00:09.092 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 20:00:09.094 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 20:00:09.101 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 20:00:09.102 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 20:00:09.104 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:00:09.106 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:00:09.107 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 20:00:09.108 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 20:00:09.110 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 20:00:09.117 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 20:00:09.119 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 20:00:09.121 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 20:00:09.124 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 20:00:09.126 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 20:00:09.129 +00:00 [INF] STUART LOG: About to send request
2022-12-30 20:00:09.269 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 20:00:09.273 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-30 20:00:09.290 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2022-12-30 20:00:09.291 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-12-30 20:00:09.309 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 204.5418ms
2022-12-30 20:00:09.311 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:00:09.315 +00:00 [DBG] Connection id "0HMNAK1HMMN84" completed keep alive response.
2022-12-30 20:00:09.319 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/6 - - - 404 225 application/problem+xml;+charset=utf-8 260.3640ms
2022-12-30 20:00:13.882 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/4 - -
2022-12-30 20:00:13.883 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 20:00:13.885 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4'
2022-12-30 20:00:13.886 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/4'
2022-12-30 20:00:13.888 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:00:13.891 +00:00 [DBG] Successfully validated the token.
2022-12-30 20:00:13.893 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 20:00:13.894 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:00:13.898 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 20:00:13.900 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 20:00:13.902 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 20:00:13.904 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 20:00:13.906 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 20:00:13.908 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 20:00:13.916 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:00:13.917 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:00:13.919 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 20:00:13.921 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 20:00:13.922 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 20:00:13.924 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 20:00:13.930 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 20:00:13.932 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 20:00:13.934 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 20:00:13.935 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 20:00:13.936 +00:00 [INF] STUART LOG: About to send request
2022-12-30 20:00:14.068 +00:00 [INF] STUART LOG: Below response
2022-12-30 20:00:14.080 +00:00 [INF] STUART LOG: Ready to return
2022-12-30 20:00:14.152 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 20:00:14.155 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 20:00:14.167 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 20:00:14.169 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2022-12-30 20:00:14.182 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 266.13ms
2022-12-30 20:00:14.184 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:00:14.185 +00:00 [DBG] Connection id "0HMNAK1HMMN84" completed keep alive response.
2022-12-30 20:00:14.186 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/4 - - - 200 235 application/xml;+charset=utf-8 304.0109ms
2022-12-30 20:01:04.494 +00:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/4 - -
2022-12-30 20:01:04.505 +00:00 [DBG] DELETE requests are not supported
2022-12-30 20:01:04.506 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/delete/4'
2022-12-30 20:01:04.507 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/delete/{cityId}' is valid for the request path '/api/cities/delete/4'
2022-12-30 20:01:04.509 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 20:01:04.511 +00:00 [DBG] Successfully validated the token.
2022-12-30 20:01:04.512 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 20:01:04.514 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 20:01:04.516 +00:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 20:01:04.518 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 20:01:04.523 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 20:01:04.525 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 20:01:04.534 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 20:01:04.538 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 20:01:04.541 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:01:04.543 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:01:04.544 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' ...
2022-12-30 20:01:04.548 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.String' using the name 'cityId' in request data ...
2022-12-30 20:01:04.551 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 20:01:04.555 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.String'.
2022-12-30 20:01:04.556 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.String' ...
2022-12-30 20:01:04.558 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.String'.
2022-12-30 20:01:04.559 +00:00 [INF] STUART LOG: Going to delete
2022-12-30 20:01:04.690 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 20:01:04.693 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-12-30 20:01:04.696 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-12-30 20:01:04.699 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-12-30 20:01:04.701 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 160.3252ms
2022-12-30 20:01:04.702 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2022-12-30 20:01:04.704 +00:00 [DBG] Connection id "0HMNAK1HMMN84" completed keep alive response.
2022-12-30 20:01:04.705 +00:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7140/api/cities/delete/4 - - - 200 83 application/xml;+charset=utf-8 213.0514ms
2022-12-30 20:01:21.025 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7140/api/cities/4 - -
2022-12-30 20:01:21.026 +00:00 [DBG] The request path  does not match the path filter
2022-12-30 20:01:21.027 +00:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4'
2022-12-30 20:01:21.029 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/4'
2022-12-30 20:01:21.032 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:01:21.034 +00:00 [DBG] Successfully validated the token.
2022-12-30 20:01:21.035 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-30 20:01:21.036 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:01:21.039 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-12-30 20:01:21.041 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-30 20:01:21.043 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-30 20:01:21.045 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-30 20:01:21.047 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-30 20:01:21.050 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-30 20:01:21.055 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:01:21.057 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-12-30 20:01:21.059 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2022-12-30 20:01:21.060 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2022-12-30 20:01:21.062 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 20:01:21.063 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2022-12-30 20:01:21.066 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2022-12-30 20:01:21.072 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2022-12-30 20:01:21.073 +00:00 [INF] STUART LOG: I'm going in
2022-12-30 20:01:21.075 +00:00 [INF] STUART LOG: We in here mehn
2022-12-30 20:01:21.076 +00:00 [INF] STUART LOG: About to send request
2022-12-30 20:01:21.208 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-12-30 20:01:21.216 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-30 20:01:21.221 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2022-12-30 20:01:21.225 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-12-30 20:01:21.227 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 172.4064ms
2022-12-30 20:01:21.229 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2022-12-30 20:01:21.232 +00:00 [DBG] Connection id "0HMNAK1HMMN84" completed keep alive response.
2022-12-30 20:01:21.234 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7140/api/cities/4 - - - 404 225 application/problem+xml;+charset=utf-8 209.3060ms
